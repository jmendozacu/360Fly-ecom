
<div class="padder">

<div class="page-head">
    <h3><?php echo $this->__('My Servers') ?></h3>
</div>    

<?php if($this->getCollection()->count() > 0) { ?>

    <p style="margin-bottom:-50px;"><a href="<?php echo $this->getBackUrl() ?>">&laquo; <?php echo $this->__('Back To Servers') ?></a></p>
    
        <div class="content">
        
        
            <table width="100%" >
            <thead style="font-weight:bold">
				<tr>
                	<td colspan="7"><div class="button-set"></div></td>
                </tr>             
            	<tr>
            		<td>Host Name</td>
            		<td>Host IP</td>
            		<td>Uptime</td>
            		<td>Level</td>
            		<td>CPU</td>
            		<td>RAM</td>
            		<td>SSD /home</td>
            		<td>BANDWIDTH</td>
            	</tr>
            </thead>
            <tbody>
                <?php foreach ($this->getCollection() as $server) { ?>
                
                   <tr>
                   		<td><?php echo $server->getHostName(); ?></td>
                   		<td><?php echo $server->getHostIp()?></td>
                   		<td><?php echo $server->getUptime()?></td>
                   		<td><?php echo $server->getLevel()?></td>
                   		<td><?php echo $server->getLevel()?></td>
                   		<td><?php echo $server->getLevel() * 2?>GB</td>
                   		<td><?php echo $server->getLevel() * 7.5?>GB</td>
                   		<td><?php echo $server->getLevel() * 250 + 250?>GB</td>
                   	</tr>
                
                <?php } ?>
            </tbody>
            </table>
            
            <table>
                <tr>
                	<td colspan="7">&nbsp;</td>
				</tr>   
            </table>
            
            <table>
            <thead style="font-weight:bold;">
            	<tr>
            		<td>Available Graphs
            		<a href="<?php echo $this->getCurrentUrl() ?>?&duration=3600">1h</a> |
            		<a href="<?php echo $this->getCurrentUrl() ?>?&duration=10800">3h</a> |
            		<a href="<?php echo $this->getCurrentUrl() ?>?&duration=43200">12h</a> |
            		<a href="<?php echo $this->getCurrentUrl() ?>?&duration=86400">1d</a> |
            		<a href="<?php echo $this->getCurrentUrl() ?>?&duration=604800">7d</a> |
            		<a href="<?php echo $this->getCurrentUrl() ?>?&duration=1209600">14d</a> |
            		<a href="<?php echo $this->getCurrentUrl() ?>?&duration=2592000">1m</a> |
            		<a href="<?php echo $this->getCurrentUrl() ?>?&duration=7776000">3m</a> |
            		<a href="<?php echo $this->getCurrentUrl() ?>?&duration=23328000">9m</a>
            		</td>
            		<td width="100" align="right"> 
            		<!-- Autorefresh <input type="checkbox" name="autorefresh">-->
            		</td>
            	</tr>
            </thead>
            <tbody>
<?php
$hostgraphs = $this->getServerGraphsFromZabbix();
while (list($key, $value) = each($hostgraphs)) {
?>

				<tr>
					<td colspan="2"><img src="/noc/server/graph/id/<?php echo $key . $this->getGraphUrlParams() . $this->getGraphDuration() ?>"></td>
				</tr>

<?php } ?>
           	     	            	
            </tbody>
            </table>

        </div>
        
<?php } else { ?>

    <p><?php echo $this->__('This server does not exist.') ?></p>

    <?php }  ?>

<div class="button-set">
    <a href="<?php echo $this->getBackUrl() ?>" class="f-left">&laquo; <?php echo $this->__('Back') ?></a>
</div>
</div>